<script>
  import floatplane from "$lib/images/floatplane2.svg";
  import plane from "$lib/images/plane.svg";

  import { tweened } from 'svelte/motion';
	import { cubicOut } from 'svelte/easing';
	import { onMount } from 'svelte';

	const progress = tweened(20, {
		duration: 2000,
		easing: cubicOut
	});

  onMount(async () => {
		progress.set(0)
	});

</script>
<div>
  <!-- <h1>Floatplane</h1> -->
  <svg width="376" height="32" viewBox="0 0 376 32" fill="none" xmlns="http://www.w3.org/2000/svg">
    <path d="M0 31.5741V0.425855H22.5233V4.47148H5.48008V13.962H20.9094V17.9924H5.48008V31.5741H0Z" fill="white"/>
    <path d="M36.2543 31.5741V0.425855H41.7344V27.5285H58.1924V31.5741H36.2543Z" fill="white"/>
    <path d="M101.572 16C101.572 19.3257 100.862 22.185 99.4435 24.5779C98.0247 26.9607 96.0798 28.7959 93.6088 30.0837C91.1495 31.3612 88.3533 32 85.2202 32C82.0752 32 79.2672 31.3612 76.7961 30.0837C74.3369 28.7959 72.3979 26.9556 70.9791 24.5627C69.5603 22.1698 68.8509 19.3156 68.8509 16C68.8509 12.6743 69.5603 9.82003 70.9791 7.43726C72.3979 5.04436 74.3369 3.20913 76.7961 1.93156C79.2672 0.643853 82.0752 0 85.2202 0C88.3533 0 91.1495 0.643853 93.6088 1.93156C96.0798 3.20913 98.0247 5.04436 99.4435 7.43726C100.862 9.82003 101.572 12.6743 101.572 16ZM96.1449 16C96.1449 13.4651 95.666 11.3308 94.7083 9.59696C93.7625 7.85298 92.4619 6.53486 90.8067 5.64259C89.1632 4.74018 87.3011 4.28897 85.2202 4.28897C83.1275 4.28897 81.2594 4.74018 79.6159 5.64259C77.9725 6.53486 76.672 7.85298 75.7143 9.59696C74.7684 11.3308 74.2955 13.4651 74.2955 16C74.2955 18.5349 74.7684 20.6743 75.7143 22.4183C76.672 24.1521 77.9725 25.4702 79.6159 26.3726C81.2594 27.2649 83.1275 27.711 85.2202 27.711C87.3011 27.711 89.1632 27.2649 90.8067 26.3726C92.4619 25.4702 93.7625 24.1521 94.7083 22.4183C95.666 20.6743 96.1449 18.5349 96.1449 16Z" fill="white"/>
    <path d="M116.66 31.5741H110.842L123.913 0.425855H130.244L143.315 31.5741H137.498L127.229 6.08365H126.946L116.66 31.5741ZM117.635 19.3764H136.505V23.3308H117.635V19.3764Z" fill="white"/>
    
    <!-- The T -->
    <path d="M149.469 4.47148V0.425855H177.579V4.47148H166.246V20.5741L160.784 22.5741V4.47148H149.469Z" fill="white"/>
    <!-- <path d="M149.469 4.47148V0.425855H177.579V4.47148H166.246V{$progress < 0.5 ? "18" : "31"}.5741L160.784 {$progress < 0.5 ? "21" : "31"}.5741V4.47148H149.469Z" fill="white"/> -->
    <path d="M149.469 4.47148V0.425855H177.579V4.47148H166.246V31.5741L160.784 31.5741V4.47148H149.469Z" opacity={$progress} fill="white"/>
    
    <!-- The P -->
    <!-- <path d="M190.782 31.5741V7.42586L203.729 0.425855C206.554 0.425855 208.895 0.866921 210.752 1.74905C212.608 2.63118 213.997 3.83777 214.919 5.36882C215.841 6.88974 216.303 8.6033 216.303 10.5095C216.303 12.4259 215.836 14.1496 214.902 15.6806C213.979 17.2015 212.584 18.4081 210.716 19.3004C208.86 20.1825 206.525 20.6236 203.711 20.6236H194.808V16.6388H203.214C205 16.6388 206.448 16.3752 207.559 15.8479C208.671 15.3105 209.486 14.5805 210.007 13.6578C210.527 12.7351 210.787 11.6857 210.787 10.5095C210.787 9.33333 210.527 8.28897 210.007 7.37643C209.486 6.46388 208.665 5.74905 207.542 5.23194C206.43 4.71483 204.964 4.45627 203.143 4.45627H196.262V31.5741H190.782Z" fill="white"/> -->
    <path d="M190.782 31.5741V{$progress < 0.5 ? "7" : "0"}.42586L203.729 0.425855C206.554 0.425855 208.895 0.866921 210.752 1.74905C212.608 2.63118 213.997 3.83777 214.919 5.36882C215.841 6.88974 216.303 8.6033 216.303 10.5095C216.303 12.4259 215.836 14.1496 214.902 15.6806C213.979 17.2015 212.584 18.4081 210.716 19.3004C208.86 20.1825 206.525 20.6236 203.711 20.6236H194.808V16.6388H203.214C205 16.6388 206.448 16.3752 207.559 15.8479C208.671 15.3105 209.486 14.5805 210.007 13.6578C210.527 12.7351 210.787 11.6857 210.787 10.5095C210.787 9.33333 210.527 8.28897 210.007 7.37643C209.486 6.46388 208.665 5.74905 207.542 5.23194C206.43 4.71483 204.964 4.45627 203.143 4.45627H196.262V31.5741H190.782Z" fill="white"/>
    
    <path d="M229.719 31.5741V0.425855H235.199V27.5285H251.657V31.5741H229.719Z" fill="white"/>
    <path d="M269.822 31.5741H264.005L277.075 0.425855H283.407L296.477 31.5741H290.66L280.392 6.08365H280.108L269.822 31.5741ZM270.797 19.3764H289.667V23.3308H270.797V19.3764Z" fill="white"/>
    <path d="M338.03 0.425855V31.5741H332.993L314.531 8.73004H314.194V31.5741H308.714V0.425855H313.786L332.266 23.3004H332.603V0.425855H338.03Z" fill="white"/>
    <path d="M353.016 31.5741V0.425855H375.787V4.47148H358.496V13.962H374.599V17.9924H358.496V27.5285H376V31.5741H353.016Z" fill="white"/>
    </svg>

  <img src={plane} alt="" id="plane" style="transform: rotate({$progress}deg); left: calc(-15% - {$progress * 2}vw);">
</div>

<style lang="scss">
  @import "../theme/colors";

  div {
    position: relative;
    display: flex;
    flex-direction: column;
    align-items: center;

    svg {
      width: 350px;
    }

    #plane {
      position: absolute;
      top: -165%;
      left: -15%;
      width: 90%;
      transform: rotate(0deg);
      transform-origin: 0% -500%;
    }

    h1 {
      font-family: "Outfit", sans-serif;
      font-weight: 500;
      letter-spacing: 9px;
      font-size: 47px;
      line-height: 100%;
      text-transform: uppercase;
      display: block;
      padding-bottom: 0.2em;
      margin: 0;
      color: black;
      transition: ease 400ms color;

      &.white {
        color: white;
      }

      @media (max-width: 450px) {
        text-align: left;
      }
    }
  }
</style>
